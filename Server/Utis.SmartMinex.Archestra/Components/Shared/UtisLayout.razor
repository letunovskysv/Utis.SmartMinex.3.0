@*--------------------------------------------------------------------------------------------------
// (С) 2017-2025 ООО УралТехИС. Интеллектуальная Системная Платформа 3.0. Все права защищены.
// Описание: UtisLayout – Основная схема приложения.
//------------------------------------------------------------------------------------------------*@
@using System.Text.RegularExpressions
@inherits LayoutComponentBase
@inject IDispatcher _dsp
@inject NavigationManager _nav

<RadzenComponents @rendermode="InteractiveServer" />
<title>Технологическая платформа - Конфигуратор</title>
<div class="ut-pane-container">
    <header class="ut-pane-header">
        <div class="ut-logo">
            <a class="ut-logo-ref" href="/">
                <img src="images/utis_dark48.webp" style="width:21px;margin-top: -6px;" />
                УралТехИС
            </a>
        </div>
        <div class="ut-app-name">Конфигуратор</div>
        @if (_dsp.ClientPort.HasValue)
        {
            <div style="margin-left:auto" title="Запустить клиента">
                <a href=@(Regex.Replace(_nav.BaseUri, @"\d+", _dsp.ClientPort.ToString())) target="_blank">
                <svg class="ut-glyph-box" viewBox="0 0 90 90" xmlns="http://www.w3.org/2000/svg" style="overflow:visible;height:20px;width:20px;">
                    <path d="M45,6.421c21.273,0,38.579,17.306,38.579,38.579S66.273,83.578,45,83.578c-21.273,0-38.579-17.306-38.579-38.579  S23.727,6.421,45,6.421 M45,0C20.148,0,0,20.146,0,44.999s20.148,44.999,45,44.999c24.852,0,45-20.146,45-44.999S69.852,0,45,0L45,0  z M65.5,44.999l-31.5-18v36L65.5,44.999z" />
                </svg>
            </a>
        </div>
        }
    </header>
    <div class="ut-body">
        <Inspector />
        <div class="ut-hsplit"></div>
        <main class="ut-main">
            @Body
        </main>
    </div>
</div>
